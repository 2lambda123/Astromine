shouldGenerateData = true

dependencies {
    rootProject.subprojects.forEach {
        if (it.path != path) {
            implementation project(path: ":${it.path}", configuration: 'namedElements')
        }
    }
}

afterEvaluate {
    dependencies {
        rootProject.subprojects.forEach {
            if (it.path != path && it.shouldGenerateData) {
                datagenCompile project(path: ":${it.path}", configuration: 'datagenDev')
            }
        }
        gradle.afterProject {
            if (it.path != path && it.shouldGenerateData) {
                datagenCompile project(path: ":${it.path}", configuration: 'datagenDev')
            }
        }
    }
}